(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{1234:()=>{},2821:(e,t,r)=>{"use strict";r.d(t,{Dy:()=>f,xi:()=>x});var a=r(5155),i=r(2115),n=r(7303),s=r(6852),l=r(4997),c=r(7828),o=r(5366),d=[1,2,3,4,5,6,7,8,9].map(e=>new o.Howl({src:["/problem-solving-correlations-study/audio/digits/sound_".concat(e,".mp3")]}));let m=(0,i.createContext)(void 0),u={startTime:0,currentTime:0,confirmPressed:!1,trialStarted:!1,trialEnded:!1,responseStarted:!1,responseEnded:!1,feedbackStarted:!1,feedbackEnded:!1,currentDigitIndex:null,responseString:null},S={trialState:u,betweenDigitTimeInterval:250,currentTrialIndex:0,trialSpecs:[],trialEventHistory:[],blockStarted:!1,blockCompleted:!1,fixationActive:!0},p=(e,t)=>{let r=e,a=e.trialEventHistory;switch(t.type){case"START_TRIAL":r={...e,currentTrialIndex:t.trialIndex,trialState:{...u,startTime:t.timestamp,currentTime:t.timestamp,trialStarted:!0}};break;case"SET_TRIAL_INDEX":r={...e,currentTrialIndex:t.trialIndex};break;case"END_TRIAL":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,trialStarted:!1,trialEnded:!0}};break;case"START_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!0}};break;case"END_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!1,feedbackEnded:!0}};break;case"SET_TRIAL_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"PRESS_CONFIRM":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,confirmPressed:!0}};break;case"START_TASK_BLOCK":r={...e,blockStarted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"COMPLETE_TASK_BLOCK":r={...e,blockCompleted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SHOW_FIXATION":r={...e,fixationActive:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"CLEAR_FIXATION":r={...e,fixationActive:!1,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"START_RESPONSE_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,responseStarted:!0}};break;case"END_RESPONSE_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,responseEnded:!0}};break;case"SET_RESPONSE_STRING":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,responseString:t.str}};break;case"SET_DISPLAYED_DIGIT_INDEX":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,currentDigitIndex:t.digit}},null!=t.digit&&(console.log(e.trialSpecs[e.currentTrialIndex].digits[t.digit]),d[e.trialSpecs[e.currentTrialIndex].digits[t.digit]-1].play())}let i=(0,n.f)(r.trialSpecs[r.currentTrialIndex].digits,r.trialState.responseString);if("SET_DISPLAYED_DIGIT_INDEX"!=t.type){let n={trialNumber:r.currentTrialIndex,timestamp:r.trialState.currentTime,action:t.type,responseString:r.trialState.responseString,targetString:r.trialSpecs[r.currentTrialIndex].digits.join(""),digitsCorrect:i};a=[...e.trialEventHistory,n]}return{...r,trialEventHistory:a}},x=e=>{let{children:t,trialSpecs:r,startTrialIndex:n}=e,[o,d]=(0,i.useReducer)(p,{...S,trialSpecs:r,currentTrialIndex:n}),{pages:u,currentPageIndex:x,scoreData:f,setCurrentPageIndex:g,setScoreData:h}=(0,s.S)();function E(){var e=[];for(var t of o.trialEventHistory)"END_TRIAL"==t.action&&null!=t.digitsCorrect&&e.push(t.digitsCorrect);return(0,l.RE)(e)}let T=e=>{d({type:"START_TRIAL",timestamp:performance.now(),trialIndex:e})},y=()=>{d({type:"END_TRIAL",timestamp:performance.now()})},I=()=>{d({type:"END_RESPONSE_TIME",timestamp:performance.now()})},v=()=>{d({type:"START_FEEDBACK",timestamp:performance.now()})},b=!1;return(0,i.useEffect)(()=>{o.blockStarted&&!o.fixationActive&&T(o.currentTrialIndex)},[o.blockStarted,o.fixationActive]),(0,i.useEffect)(()=>{let e=e=>{"Enter"==e.code&&(!b&&(o.trialState.confirmPressed||o.trialState.trialEnded||o.blockStarted||d({type:"START_TASK_BLOCK",timestamp:performance.now()})),b=!0)},t=e=>{"Enter"==e.code&&(b=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),(0,i.useEffect)(()=>{let e=setTimeout(()=>{!o.trialState.responseStarted||o.trialState.responseEnded||o.trialState.trialEnded||(I(),y(),v())},o.trialSpecs[o.currentTrialIndex].maxResponseTime);return()=>clearTimeout(e)},[o.trialState.responseStarted,o.trialState.responseEnded,o.trialState.trialEnded]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{o.trialState.feedbackStarted&&!o.trialState.feedbackEnded&&(d({type:"END_FEEDBACK",timestamp:performance.now()}),(()=>{if(console.log(o.currentTrialIndex),!(o.currentTrialIndex<o.trialSpecs.length-1))return d({type:"COMPLETE_TASK_BLOCK",timestamp:performance.now()}),x+1<u.length&&g(x+1),console.log("mean items recalled: ".concat(E())),h({...f,memorySpan:(0,c.G)(3.14,.68,E())});{let e=o.currentTrialIndex+1;return d({type:"SET_TRIAL_INDEX",timestamp:performance.now(),trialIndex:e}),d({type:"SHOW_FIXATION",timestamp:performance.now()})}})())},o.trialSpecs[o.currentTrialIndex].feedbackTime);return()=>clearTimeout(e)},[o.trialState.feedbackStarted,o.currentTrialIndex]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{o.blockStarted&&o.fixationActive&&d({type:"CLEAR_FIXATION",timestamp:performance.now()})},1e3);return()=>clearTimeout(e)},[o.fixationActive,o.blockStarted]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{if(o.trialState.trialStarted&&!o.trialState.trialEnded){let t=null;if((t=null===o.trialState.currentDigitIndex?0:o.trialState.currentDigitIndex+1)>=o.trialSpecs[o.currentTrialIndex].digits.length)d({type:"START_RESPONSE_TIME",timestamp:performance.now()});else{var e;e=t,d({type:"SET_DISPLAYED_DIGIT_INDEX",timestamp:performance.now(),digit:e})}}},o.betweenDigitTimeInterval);return()=>clearTimeout(e)},[o.trialState.trialStarted,o.trialState.currentDigitIndex]),(0,a.jsx)(m.Provider,{value:{state:o,exportTrialEventHistory:()=>o.trialEventHistory,setResponseString:e=>{o.trialState.responseStarted&&!o.trialState.responseEnded&&d({type:"SET_RESPONSE_STRING",timestamp:performance.now(),str:e})},startTrial:T,skipResponseWait:()=>{I(),y(),v()}},children:t})},f=()=>{let e=(0,i.useContext)(m);if(!e)throw Error("useTaskContextMemorySpan must be used within a TaskContext Provider");return e}},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,i,n=r(5155),s=r(2115);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let c=function(e){return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:100,height:100},e),a||(a=s.createElement("path",{fill:"currentColor",d:"M45 20h10v60H45z",className:"icon_plus_svg__plus"})),i||(i=s.createElement("path",{fill:"currentColor",d:"M20 45h60v10H20z",className:"icon_plus_svg__plus"})))},o=()=>(0,n.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-600",children:(0,n.jsx)(c,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})})},5951:(e,t,r)=>{"use strict";r.d(t,{l:()=>m});var a=r(5155),i=r(4963),n=r(2821),s=r(7303),l=r(2115),c=r(9141),o=r(6852);let d=e=>{let{isPractice:t}=e;return(0,a.jsxs)("div",{className:"h-full w-full grid font-sans grid-rows-5 gap-2 px-20 py-10",children:[(0,a.jsx)("div",{className:"flex items-end py-10",children:(0,a.jsxs)("span",{className:"text-2xl",children:["Memory Span ",t&&(0,a.jsx)(a.Fragment,{children:"(Practice)"})]})}),t?(0,a.jsx)("div",{className:"flex flex-col row-span-3 items-center text-lg gap-10 px-10 py-10 mx-10 rounded-lg border-2 border-dashed overflow-auto",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:"py-5",children:"You will hear a list of digits read out quickly"}),(0,a.jsxs)("li",{className:"py-5",children:["Try to remember as many digits as you can from the ",(0,a.jsx)("u",{children:"end of the list"})," (i.e. the ones you hear last)"]}),(0,a.jsx)("li",{className:"py-5",children:"When prompted, enter as many digits as you can remember using the keyboard"}),(0,a.jsx)("li",{className:"py-5",children:"Example:"}),(0,a.jsx)("li",{className:"py-2",children:'If you hear the list "9 3 6 5 4 1 3 5 7 2" try to remember the most recent digits'}),(0,a.jsx)("li",{className:"py-2",children:'If you can only remember the most recent three digits, you\'ll enter "572"'}),(0,a.jsx)("li",{className:"py-2",children:'If you can remember the most recent five digits, you\'ll enter "13572"'}),(0,a.jsx)("li",{className:"py-2",children:"Try to remember as many digits as you can from the end of the list"})]})}):(0,a.jsxs)("div",{className:"flex flex-col row-span-3 items-center text-lg gap-10 px-10 py-10 mx-10 rounded-lg border-2 border-dashed overflow-auto",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:"Practice completed. You will now begin the full task."}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("span",{children:"Remember to enter digits from the end of the list, not the start"})})]}),(0,a.jsx)("div",{className:"flex items-end justify-center",children:(0,a.jsxs)("div",{className:"flex items-center text-xl",children:["Press",(0,a.jsx)(c.A,{children:"Enter"}),"to start"]})})]})},m=e=>{let{isPractice:t}=e,[r,m]=(0,l.useState)(""),u=(0,l.useRef)(null),S=(0,l.useRef)(null),{state:p,setResponseString:x,skipResponseWait:f,exportTrialEventHistory:g}=(0,n.Dy)(),{taskData:h,addTaskData:E}=(0,o.S)();return(0,l.useEffect)(()=>{p.blockCompleted&&!t&&E({taskName:"memory-span",data:g()})},[p.blockCompleted]),(0,l.useEffect)(()=>{p.trialState.responseStarted&&!p.trialState.responseEnded&&u.current&&(m(""),u.current.focus())},[p.trialState.responseStarted,p.trialState.responseEnded]),(0,l.useEffect)(()=>{p.trialState.trialStarted&&!p.trialState.responseStarted&&!p.trialState.trialEnded&&S.current&&(S.current.play(),console.log(S))},[p.trialState.currentDigitIndex,p.trialState.trialStarted,p.trialState.responseStarted,p.trialState.trialEnded]),(0,a.jsxs)("div",{className:"h-full flex flex-col justify-center items-center",children:[p.trialState.responseStarted&&!p.trialState.responseEnded?(0,a.jsxs)("div",{className:"flex flex-col text-xl",children:[(0,a.jsx)("span",{className:"my-10",children:"Enter as many digits as you can remember from the end of the list."}),(0,a.jsx)("input",{type:"text",ref:u,value:r,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&m(t)},onKeyDown:e=>{"Enter"===e.key&&(x(r),f())},placeholder:"..."}),(0,a.jsxs)("div",{className:"flex items-center justify-center my-10",children:["Press",(0,a.jsx)(c.A,{children:"Enter"}),"to confirm "]})]}):(0,a.jsx)(a.Fragment,{}),p.blockStarted?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(d,{isPractice:t}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[p.fixationActive&&p.blockStarted?(0,a.jsx)(i.A,{}):(0,a.jsx)(a.Fragment,{}),!p.trialState.trialStarted||p.trialState.responseStarted||p.trialState.trialEnded?(0,a.jsx)(a.Fragment,{}):null!==p.trialState.currentDigitIndex?(0,a.jsx)("div",{className:"text-6xl",children:p.trialSpecs[p.currentTrialIndex].digits[p.trialState.currentDigitIndex]}):(0,a.jsx)(a.Fragment,{}),p.trialState.feedbackStarted&&!p.trialState.feedbackEnded?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"flex flex-col items-right justify-center text-xl",children:[(0,a.jsxs)("span",{className:"font-mono text-right py-2",children:["Goal: ",p.trialSpecs[p.currentTrialIndex].digits.join("")]}),(0,a.jsxs)("span",{className:"font-mono text-right py-2",children:["Response: ",(()=>{if(null!==p.trialState.responseString)return console.log((0,s.L)(p.trialSpecs[p.currentTrialIndex].digits,p.trialState.responseString)),(0,s.L)(p.trialSpecs[p.currentTrialIndex].digits,p.trialState.responseString).map((e,t)=>e?(0,a.jsx)("span",{className:"text-green-600 font-mono",children:p.trialState.responseString[t]},t):(0,a.jsx)("span",{className:"text-grey-300 font-mono",children:p.trialState.responseString[t]},t))})()]})]}),(0,a.jsxs)("span",{className:"text-3xl py-10",children:[(0,s.f)(p.trialSpecs[p.currentTrialIndex].digits,p.trialState.responseString)," Correct"]})]}):(0,a.jsx)(a.Fragment,{})]})]})}},6852:(e,t,r)=>{"use strict";r.d(t,{S:()=>c,T:()=>l});var a=r(5155),i=r(63),n=r(2115);let s=(0,n.createContext)(void 0),l=e=>{let{children:t,participantID:r,pages:l,startPageIndex:c}=e,[o,d]=(0,n.useState)(c),[m,u]=(0,n.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),S=(0,i.useRouter)(),p=(0,i.usePathname)(),x=(0,i.useSearchParams)(),[f,g]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=x.get("exception");if(null!=e){if(e){let e=localStorage.getItem("taskData");g(e?JSON.parse(e):[]);let t=p.split("/");d(l.indexOf(t[t.length-1])),S.push("/tasks/".concat(l[o]));return}}else S.push("/tasks/".concat(l[o]))},[o]),(0,a.jsx)(s.Provider,{value:{participantID:r,pages:l,currentPageIndex:o,taskData:f,scoreData:m,setCurrentPageIndex:d,addTaskData:e=>{let t=[...f,e];g(t),localStorage.setItem("taskData",JSON.stringify(t))},setScoreData:u},children:t})},c=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7303:(e,t,r)=>{"use strict";function a(e,t){if(null===t)return 0;let r=e.join(""),a=r.length,i=Math.max(0,a-t.length),n=0;for(let e=i;e<a;e++)r[e]===t[e-i]&&n++;return n}function i(e,t){if(null===t)return[];let r=e.join(""),a=r.length,i=Math.max(0,a-t.length),n=[];for(let e=i;e<a;e++){let a=!1;r[e]===t[e-i]&&(a=!0),n=[...n,a]}return n}r.d(t,{L:()=>i,f:()=>a})},7828:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var a=r(4997);function i(e,t,r){return 100*a.ri((r-e)/t)}},7952:(e,t,r)=>{"use strict";r.d(t,{R:()=>s,h:()=>n});var a=r(8173),i=r.n(a);function n(e,t,r){return Math.floor(r()*(t-e))+e}function s(e,t){let r=i()(t),a=[...e];for(let e=a.length-1;e>0;e--){let t=Math.floor(r()*(e+1));[a[e],a[t]]=[a[t],a[e]]}return a}},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155);let i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"inline px-3 py-2 mx-3 text-sm font-mono font-semibold text-gray-900 bg-white border border-gray-200 rounded-lg shadow-[0px_4px_0px_0px_#aaaaaa]",children:t})}},9939:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var a=r(8173),i=r.n(a),n=r(7952);function s(e,t,r){let a=[];for(let s=0;s<e.length;s++)for(let l=0;l<t;l++){let t=e[s];a.push(function(e,t){let r=i()(t),a="123456789",s=[],l={},c=e=>{if(l[e]>=3||s.slice(-6).includes(e))return!1;if(s.length>0){let t=s[s.length-1];if(e===t+1||e===t-1)return!1}return!0};for(;s.length<e;){let e=(0,n.h)(0,a.length,r),t=parseInt(a[e]);c(t)&&(s.push(t),l[t]=(l[t]||0)+1)}return s}(t,r+s+l*e.length))}return(0,n.R)(a,r)}}}]);