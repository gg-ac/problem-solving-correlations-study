(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{51:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,s=r(5155),i=r(2115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let l=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=i.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},i.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),i.createElement("path",{d:"M13.232 11.9a1.33 1.33 0 0 0-.941.391 1.33 1.33 0 0 0 0 1.883l4.059 4.058-4.06 4.059a1.33 1.33 0 0 0 0 1.883 1.33 1.33 0 0 0 1.884 0l4.058-4.059 4.059 4.059a1.33 1.33 0 0 0 1.883 0 1.33 1.33 0 0 0 0-1.883l-4.059-4.059 4.059-4.058a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39 1.33 1.33 0 0 0-.941.39l-4.059 4.058-4.058-4.058a1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,s.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,s.jsx)(l,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},1234:()=>{},4723:(e,t,r)=>{"use strict";r.d(t,{r:()=>p});var a=r(5155),s=r(4963),i=r(8587),n=r(51),l=r(8645),c=r(8173),o=r.n(c),d=r(2115),m=r(6852),x=r(9141);let u=e=>{let{isPractice:t}=e,{state:r,setCurrentInstructionsPageIndex:s}=(0,l.JX)();return(0,a.jsxs)("div",{className:"h-full w-full flex flex-col font-sans px-30",children:[(0,a.jsx)("div",{className:"flex items-end py-10",children:(0,a.jsxs)("span",{className:"text-2xl",children:["Matrix Reasoning Task ",t&&(0,a.jsx)(a.Fragment,{children:"(Practice)"})]})}),(0,a.jsxs)("div",{className:"flex text-lg flex-col flex-grow px-5 py-5 rounded-lg border-2 border-dashed",children:[t&&(0,a.jsxs)("div",{className:"flex flex-col flex-grow items-center justify-center space-y-5",children:[0===r.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-5",children:"You will see a 3-by-3 grid of shapes like this example:"}),(0,a.jsx)("img",{className:"max-h-[256px] object-contain py-5",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0.jpeg",alt:"Matrix Example"})]}),1===r.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-2",children:"The shapes follow a pattern across each row, and down each column"}),(0,a.jsx)("div",{className:"text-center py-2",children:"The pattern can involve positions, colours, sizes, and combinations of shapes"})]}),2===r.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-2",children:"You will be shown four options, only one of which completes the grid pattern:"}),(0,a.jsxs)("div",{className:"flex flex-row justify-center space-x-2",children:[(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_1.jpeg",alt:"Option 1"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_2.jpeg",alt:"Option 2"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_3.jpeg",alt:"Option 3"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_4.jpeg",alt:"Option 4"})]})]}),3===r.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center",children:"Click the correct one to solve the puzzle."}),(0,a.jsx)("div",{className:"text-center",children:"The solution to the example is shown on the right."}),(0,a.jsx)("div",{className:"text-center",children:"Make sure you understand why this option is the solution before starting the task."}),(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsx)("img",{className:"max-h-[256px] object-contain py-5 mx-10",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0.jpeg",alt:"Matrix Example"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_1.jpeg",alt:"Option 1"})]})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-center space-x-10",children:[(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ".concat(0==r.currentInstructionsPageIndex?"opacity-50 cursor-not-allowed":""),onClick:()=>{r.currentInstructionsPageIndex>0&&s(r.currentInstructionsPageIndex-1)},children:"Previous"}),(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ".concat(3==r.currentInstructionsPageIndex?"opacity-50 cursor-not-allowed":""),onClick:()=>{r.currentInstructionsPageIndex<3&&s(r.currentInstructionsPageIndex+1)},children:"Next"})]})]}),!t&&(0,a.jsxs)("div",{className:"flex flex-col flex-grow items-center justify-center space-y-5",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:"Practice completed. You will now begin the full task."}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("span",{children:"You will have limited time for each trial."})})]})]}),(3==r.currentInstructionsPageIndex||!t)&&(0,a.jsx)("div",{className:"flex items-end justify-center py-5",children:(0,a.jsxs)("div",{className:"flex items-center text-xl",children:["Press ",(0,a.jsx)(x.A,{children:"Space"})," to start"]})})]})},p=e=>{let{isPractice:t}=e,{state:r,handleSolutionPressed:c,exportTrialEventHistory:x}=(0,l.JX)(),{taskData:p,addTaskData:f}=(0,m.S)();(0,d.useEffect)(()=>{r.blockCompleted&&!t&&f({taskName:"matrix-reasoning",data:x()})},[r.blockCompleted]);let h="/problem-solving-correlations-study/images/matrix-tasks/test/";return t&&(h="/problem-solving-correlations-study/images/matrix-tasks/practice/"),(0,a.jsxs)("div",{className:"h-full grid grid-rows-8",children:[(0,a.jsx)("div",{className:"row-span-1"}),(0,a.jsxs)("div",{className:"row-span-6 flex items-center justify-center",children:[r.blockStarted?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(u,{isPractice:t}),r.fixationActive&&r.blockStarted?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,a.jsx)(s.A,{})," "]}):(0,a.jsx)(a.Fragment,{}),r.trialState.trialStarted&&!r.trialState.trialEnded||r.trialState.trialEnded&&t?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-3xl",children:r.trialState.feedbackStarted?"":Math.ceil((1e3*r.trialMaxDuration-(r.trialState.currentTime-r.trialState.startTime))/1e3)}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("img",{className:"py-5",src:h+"".concat(r.currentTrialIndex,".jpeg")})}),(0,a.jsx)("div",{className:"flex",children:(function(e,t){var r=Math.floor(4*o()(t)())+0;let a=[,,,,].fill(0);for(let t=0;t<e;t++)a[(t+r)%e]=t;return a})(4,r.currentTrialIndex.toString()).map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{onClick:()=>{c(e)},className:"mx-5 "+(r.trialState.feedbackStarted&&0==e?" m-5 border-8 border-lime-500":r.trialState.feedbackStarted?" m-5 border-8 border-red-500":""),src:h+"".concat(r.currentTrialIndex,"_").concat(e+1,".jpeg")},t),r.trialState.feedbackStarted&&0==e&&(0,a.jsx)(i.A,{}),r.trialState.feedbackStarted&&0!=e&&(0,a.jsx)(n.A,{})]}))})]}):(0,a.jsx)(a.Fragment,{}),!r.trialState.feedbackStarted||r.trialState.feedbackEnded||t?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{className:"flex items-center justify-center",children:r.trialState.responseCorrect?(0,a.jsx)(i.A,{}):(0,a.jsx)(n.A,{})})]})]})}},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,s,i=r(5155),n=r(2115);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let c=function(e){return n.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:100,height:100},e),a||(a=n.createElement("path",{fill:"currentColor",d:"M45 20h10v60H45z",className:"icon_plus_svg__plus"})),s||(s=n.createElement("path",{fill:"currentColor",d:"M20 45h60v10H20z",className:"icon_plus_svg__plus"})))},o=()=>(0,i.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-600",children:(0,i.jsx)(c,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})})},6852:(e,t,r)=>{"use strict";r.d(t,{S:()=>c,T:()=>l});var a=r(5155),s=r(63),i=r(2115);let n=(0,i.createContext)(void 0),l=e=>{let{children:t,participantID:r,pages:l,startPageIndex:c}=e,[o,d]=(0,i.useState)(c),[m,x]=(0,i.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),u=(0,s.useRouter)(),p=(0,s.usePathname)(),f=(0,s.useSearchParams)(),[h,g]=(0,i.useState)(()=>{let e=f.get("exception");if(null!=e&&e){let e=localStorage.getItem("taskData");return e?JSON.parse(e):[]}return[]});return(0,i.useEffect)(()=>{let e=f.get("exception");if(null!=e){if(e){let e=p.split("/");d(l.indexOf(e[e.length-1]));return}}else u.push("/tasks/".concat(l[o]))},[o]),(0,a.jsx)(n.Provider,{value:{participantID:r,pages:l,currentPageIndex:o,taskData:h,scoreData:m,setCurrentPageIndex:d,addTaskData:e=>{let t=[...h,e];g(t),localStorage.setItem("taskData",JSON.stringify(t))},setScoreData:x},children:t})},c=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7828:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var a=r(4997);function s(e,t,r){return 100*a.ri((r-e)/t)}},8587:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,s=r(5155),i=r(2115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let l=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=i.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},i.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),i.createElement("path",{d:"M25.732 11.9a1.33 1.33 0 0 0-.941.391l-9.059 9.059-4.058-4.059a1.33 1.33 0 0 0-1.883 0 1.33 1.33 0 0 0 0 1.883l5 5a1.33 1.33 0 0 0 1.883 0l10-10a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,s.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,s.jsx)(l,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},8645:(e,t,r)=>{"use strict";r.d(t,{JX:()=>x,xw:()=>m});var a=r(5155),s=r(6852),i=r(2115),n=r(7828);let l=(0,i.createContext)(void 0),c={startTime:0,currentTime:0,trialStarted:!1,trialEnded:!1,feedbackStarted:!1,feedbackEnded:!1,responseCorrect:null,selectedAnswerID:null},o={trialState:c,maxTrialIndex:0,currentTrialIndex:0,trialMaxDuration:0,trialFeedbackDuration:0,trialEventHistory:[],blockStarted:!1,blockCompleted:!1,fixationActive:!0,currentInstructionsPageIndex:0,isPractice:!0},d=(e,t)=>{let r=e,a=e.trialEventHistory;switch(t.type){case"START_TRIAL":r={...e,currentTrialIndex:t.trialIndex,trialState:{...c,startTime:t.timestamp,currentTime:t.timestamp,trialStarted:!0}};break;case"END_TRIAL":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,trialStarted:!1,trialEnded:!0}};break;case"START_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!0}};break;case"END_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!1,feedbackEnded:!0}};break;case"SET_TRIAL_TIME":case"UPDATE_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SELECT_ANSWER":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,selectedAnswerID:t.answerID}};break;case"START_TASK_BLOCK":r={...e,blockStarted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"COMPLETE_TASK_BLOCK":r={...e,blockCompleted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"CLEAR_FIXATION":r={...e,fixationActive:!1,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SET_INSTRUCTIONS_PAGE_INDEX":r={...e,currentInstructionsPageIndex:t.index}}let s=0==r.trialState.selectedAnswerID;if("UPDATE_TIME"!=t.type){let i={trialNumber:r.currentTrialIndex,timestamp:r.trialState.currentTime,action:t.type,selectedAnswerID:r.trialState.selectedAnswerID,responseCorrect:s};a=[...e.trialEventHistory,i]}return{...r,trialEventHistory:a,trialState:{...r.trialState,responseCorrect:s}}},m=e=>{let{children:t,startTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:x,isPractice:u}=e,[p,f]=(0,i.useReducer)(d,{...o,currentTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:x,isPractice:u}),{pages:h,currentPageIndex:g,scoreData:S,setCurrentPageIndex:v,setScoreData:j}=(0,s.S)();function b(){var e=new Set,t=new Set;for(var r of p.trialEventHistory)"END_TRIAL"==r.action&&(t.add(r.trialNumber),r.responseCorrect&&e.add(r.trialNumber));return 100*e.size/t.size}let w=e=>{f({type:"START_TRIAL",timestamp:performance.now(),trialIndex:e})},T=()=>{f({type:"END_TRIAL",timestamp:performance.now()})},E=()=>{f({type:"START_FEEDBACK",timestamp:performance.now()})},y=()=>{if(!(p.currentTrialIndex<p.maxTrialIndex))return f({type:"COMPLETE_TASK_BLOCK",timestamp:performance.now()}),g+1<h.length&&v(g+1),console.log("performance score: ".concat(b())),j({...S,matrixReasoning:(0,n.G)(69.15,16.69,b())}),null;{let e=p.currentTrialIndex+1;return w(e),e}};(0,i.useEffect)(()=>{p.blockStarted&&!p.fixationActive&&w(r)},[p.blockStarted,p.fixationActive]),(0,i.useEffect)(()=>{null!=p.trialState.selectedAnswerID&&(T(),E())},[p.trialState.selectedAnswerID]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{p.trialState.trialStarted&&!p.trialState.trialEnded&&(T(),E())},1e3*p.trialMaxDuration);return()=>clearTimeout(e)},[p.trialState.trialStarted]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{p.trialState.trialStarted&&!p.trialState.trialEnded&&f({type:"UPDATE_TIME",timestamp:performance.now()})},10);return()=>clearTimeout(e)},[p.trialState.trialStarted,p.trialState.currentTime]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{p.trialState.feedbackStarted&&!p.trialState.feedbackEnded&&(f({type:"END_FEEDBACK",timestamp:performance.now()}),y())},1e3*p.trialFeedbackDuration);return()=>clearTimeout(e)},[p.trialState.feedbackStarted]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{p.blockStarted&&p.fixationActive&&f({type:"CLEAR_FIXATION",timestamp:performance.now()})},1e3);return()=>clearTimeout(e)},[p.fixationActive,p.blockStarted]);let k=!1;return(0,i.useEffect)(()=>{let e=e=>{"Space"==e.code&&(k||3!=p.currentInstructionsPageIndex&&p.isPractice||f({type:"START_TASK_BLOCK",timestamp:performance.now()}),k=!0)},t=e=>{"Space"==e.code&&(k=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),(0,a.jsx)(l.Provider,{value:{state:p,exportTrialEventHistory:()=>p.trialEventHistory,handleSolutionPressed:e=>{null!=p.trialState.selectedAnswerID||p.trialState.trialEnded||f({type:"SELECT_ANSWER",timestamp:performance.now(),answerID:e})},nextTrial:y,startTrial:w,endTrial:T,setCurrentInstructionsPageIndex:e=>{f({type:"SET_INSTRUCTIONS_PAGE_INDEX",index:e})}},children:t})},x=()=>{let e=(0,i.useContext)(l);if(!e)throw Error("useTaskContextMatrixReasoning must be used within a TaskContext Provider");return e}},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);let s=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"inline px-3 py-2 mx-3 text-sm font-mono font-semibold text-gray-900 bg-white border border-gray-200 rounded-lg shadow-[0px_4px_0px_0px_#aaaaaa]",children:t})}}}]);