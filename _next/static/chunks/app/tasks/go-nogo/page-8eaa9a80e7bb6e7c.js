(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{51:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,i=r(5155),s=r(2115);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let n=function(e){return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=s.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},s.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),s.createElement("path",{d:"M13.232 11.9a1.33 1.33 0 0 0-.941.391 1.33 1.33 0 0 0 0 1.883l4.059 4.058-4.06 4.059a1.33 1.33 0 0 0 0 1.883 1.33 1.33 0 0 0 1.884 0l4.058-4.059 4.059 4.059a1.33 1.33 0 0 0 1.883 0 1.33 1.33 0 0 0 0-1.883l-4.059-4.059 4.059-4.058a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39 1.33 1.33 0 0 0-.941.39l-4.059 4.058-4.058-4.058a1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,i.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,i.jsx)(n,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},1234:()=>{},1459:(e,t,r)=>{Promise.resolve().then(r.bind(r,5560))},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,i,s=r(5155),l=r(2115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let c=function(e){return l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:100,height:100},e),a||(a=l.createElement("path",{fill:"currentColor",d:"M45 20h10v60H45z",className:"icon_plus_svg__plus"})),i||(i=l.createElement("path",{fill:"currentColor",d:"M20 45h60v10H20z",className:"icon_plus_svg__plus"})))},o=()=>(0,s.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-600",children:(0,s.jsx)(c,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})})},5560:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a,i,s=r(5155),l=r(6852),n=r(2115),c=r(7828),o=new(r(5366)).Howl({src:["/audio/sound_effects/error_sound.mp3"]});let d=(0,n.createContext)(void 0),u={startTime:0,currentTime:0,goPressed:!1,trialStarted:!1,trialEnded:!1,feedbackStarted:!1,feedbackEnded:!1,responseCorrect:null},m={trialState:u,currentTrialIndex:0,trialSpecs:[],trialEventHistory:[],blockStarted:!1,blockCompleted:!1,fixationActive:!0},x=(e,t)=>{let r=e;switch(t.type){case"START_TRIAL":r={...e,currentTrialIndex:t.trialIndex,trialState:{...u,startTime:t.timestamp,currentTime:t.timestamp,trialStarted:!0}};break;case"END_TRIAL":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,trialStarted:!1,trialEnded:!0}};break;case"START_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!0}};break;case"END_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!1,feedbackEnded:!0}};break;case"SET_TRIAL_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"PRESS_GO":console.log(e.trialState.goPressed),r={...e,trialState:{...e.trialState,currentTime:t.timestamp,goPressed:!0}};break;case"START_TASK_BLOCK":r={...e,blockStarted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"COMPLETE_TASK_BLOCK":r={...e,blockCompleted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"CLEAR_FIXATION":r={...e,fixationActive:!1,trialState:{...e.trialState,currentTime:t.timestamp}}}let a=r.trialState.goPressed&&r.trialSpecs[r.currentTrialIndex].isGoTrial||!r.trialState.goPressed&&!r.trialSpecs[r.currentTrialIndex].isGoTrial,i={trialNumber:r.currentTrialIndex,timestamp:r.trialState.currentTime,action:t.type,isGoTrial:r.trialSpecs[r.currentTrialIndex].isGoTrial},s=[...e.trialEventHistory,i];return r={...r,trialEventHistory:s,trialState:{...r.trialState,responseCorrect:a}},a||"START_FEEDBACK"!=t.type||o.play(),r},f=e=>{let{children:t,trialSpecs:r,startTrialIndex:a}=e,[i,o]=(0,n.useReducer)(x,{...m,trialSpecs:r,currentTrialIndex:a}),{pages:u,currentPageIndex:f,scoreData:p,setCurrentPageIndex:h,setScoreData:S}=(0,l.S)();function v(){var e=new Set([]),t=new Set([]);for(var r of i.trialEventHistory)r.isGoTrial||(e.add(r.trialNumber),"PRESS_GO"==r.action&&t.add(r.trialNumber));return t.size/e.size}let g=e=>{o({type:"START_TRIAL",timestamp:performance.now(),trialIndex:e})},T=()=>{o({type:"END_TRIAL",timestamp:performance.now()})},w=()=>{o({type:"START_FEEDBACK",timestamp:performance.now()})},b=()=>{if(!(i.currentTrialIndex<i.trialSpecs.length-1))return o({type:"COMPLETE_TASK_BLOCK",timestamp:performance.now()}),f+1<u.length&&h(f+1),console.log("errors: ".concat(v())),S({...p,goNogo:(0,c.G)(96,4.9,100*(1-v()))}),null;{let e=i.currentTrialIndex+1;return g(e),e}},E=()=>{i.trialState.goPressed||i.trialState.trialEnded||(i.blockStarted?o({type:"PRESS_GO",timestamp:performance.now()}):o({type:"START_TASK_BLOCK",timestamp:performance.now()}))},j=!1;return(0,n.useEffect)(()=>{i.blockStarted&&!i.fixationActive&&g(a)},[i.blockStarted,i.fixationActive]),(0,n.useEffect)(()=>{let e=e=>{"Space"==e.code&&(j||E(),j=!0)},t=e=>{"Space"==e.code&&(j=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),(0,n.useEffect)(()=>{i.trialState.goPressed&&(T(),w())},[i.trialState.goPressed]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{i.trialState.trialStarted&&!i.trialState.trialEnded&&(T(),w())},i.trialSpecs[i.currentTrialIndex].maxTime);return()=>clearTimeout(e)},[i.trialState.trialStarted]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{i.trialState.feedbackStarted&&!i.trialState.feedbackEnded&&(o({type:"END_FEEDBACK",timestamp:performance.now()}),b())},i.trialSpecs[i.currentTrialIndex].feedbackTime);return()=>clearTimeout(e)},[i.trialState.feedbackStarted]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{i.blockStarted&&i.fixationActive&&o({type:"CLEAR_FIXATION",timestamp:performance.now()})},1e3);return()=>clearTimeout(e)},[i.fixationActive,i.blockStarted]),(0,s.jsx)(d.Provider,{value:{state:i,exportTrialEventHistory:()=>i.trialEventHistory,handleGoPressed:E,nextTrial:b,startTrial:g,endTrial:T},children:t})};function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let h=function(e){return n.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:"75mm",height:"75mm",viewBox:"0 0 75 75"},e),a||(a=n.createElement("path",{fill:"currentColor",d:"M75 37.5 0 75V0Z"})))},S=()=>(0,s.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-300",children:(0,s.jsx)(h,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})});var v=r(51);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let T=function(e){return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:"75mm",height:"75mm",viewBox:"0 0 75 75"},e),i||(i=n.createElement("path",{fill:"currentColor",d:"M.51 0h73.98c.283 0 .51.227.51.51v73.98c0 .283-.227.51-.51.51H.51a.51.51 0 0 1-.51-.51V.51C0 .226.227 0 .51 0"})))},w=()=>(0,s.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-300",children:(0,s.jsx)(T,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})});var b=r(9141);function E(){return(0,s.jsxs)("div",{className:"h-full w-full grid font-sans grid-rows-5 gap-2 px-80 py-10",children:[(0,s.jsx)("div",{className:"flex items-end py-10",children:(0,s.jsx)("span",{className:"text-2xl",children:"Go/No-Go Task"})}),(0,s.jsxs)("div",{className:" text-lg row-span-3 grid grid-rows-4 gap-6 px-10 mx-10 rounded-lg border-2 border-dashed",children:[(0,s.jsx)("div",{className:"flex items-center justify-center",children:"You will see a sequence of symbols quickly shown on the screen"}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:["Press",(0,s.jsx)(b.A,{children:"Space"}),'when you see the "Go" symbol: ',(0,s.jsx)("span",{className:"h-[32px] mx-3",children:(0,s.jsx)(S,{})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("span",{children:["Press ",(0,s.jsx)("b",{children:"nothing"}),' when you see the "No-Go" symbol: ']}),(0,s.jsx)("span",{className:"h-[32px] mx-3",children:(0,s.jsx)(w,{})})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("span",{children:"Try to react as quickly as possible (but avoid incorrect presses)!"})})]}),(0,s.jsx)("div",{className:"flex items-end justify-center",children:(0,s.jsxs)("div",{className:"flex items-center text-xl",children:["Press",(0,s.jsx)(b.A,{children:"Space"}),"to start"]})})]})}var j=r(4963);function y(){let{state:e,exportTrialEventHistory:t}=(()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useTaskContextGoNogo must be used within a TaskContext Provider");return e})(),{taskData:r,setTaskData:a}=(0,l.S)();return(0,n.useEffect)(()=>{e.blockCompleted&&a([...r,{taskName:"go-nogo",data:t()}])},[e.blockCompleted]),(0,s.jsxs)("div",{className:"h-full flex flex-col justify-center items-center",children:[e.blockStarted?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(E,{}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[e.fixationActive&&e.blockStarted?(0,s.jsx)(j.A,{}):(0,s.jsx)(s.Fragment,{}),e.trialState.trialStarted&&!e.trialState.trialEnded?e.trialSpecs[e.currentTrialIndex].isGoTrial?(0,s.jsx)(S,{}):(0,s.jsx)(w,{}):(0,s.jsx)(s.Fragment,{}),e.trialState.feedbackStarted&&!e.trialState.feedbackEnded?(0,s.jsx)("div",{className:"flex items-center justify-center",children:e.trialState.responseCorrect?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(v.A,{})}):(0,s.jsx)(s.Fragment,{})]})]})}var k=r(8173),N=r.n(k),_=r(7952);function A(){return(0,s.jsx)("div",{className:"overflow-hidden h-screen",children:(0,s.jsx)(f,{trialSpecs:(function(e,t,r){let a=N()(r);!1;let i=Math.ceil(200*t),s=Math.ceil(200/i),l=[];for(let e=0;e<i;e++){let e=Array(s).fill(!0);e[(0,_.h)(0,s,a)]=!1,l.push(e)}return l.flat().slice(0,e)})(200,.3,"gonogo").map(e=>({isGoTrial:e,maxTime:1e3,feedbackTime:500})),startTrialIndex:0,children:(0,s.jsx)(y,{})})})}},6852:(e,t,r)=>{"use strict";r.d(t,{PageProvider:()=>n,S:()=>c});var a=r(5155),i=r(63),s=r(2115);let l=(0,s.createContext)(void 0),n=e=>{let{children:t,participantID:r,pages:n,startPageIndex:c}=e,[o,d]=(0,s.useState)(c),[u,m]=(0,s.useState)([]),[x,f]=(0,s.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),p=(0,i.useRouter)();return(0,s.useEffect)(()=>{p.push("/tasks/".concat(n[o]))},[o]),(0,a.jsx)(l.Provider,{value:{participantID:r,pages:n,currentPageIndex:o,taskData:u,scoreData:x,setCurrentPageIndex:d,setTaskData:m,setScoreData:f},children:t})},c=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7828:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var a=r(4997);function i(e,t,r){return 100*a.ri((r-e)/t)}},7952:(e,t,r)=>{"use strict";r.d(t,{R:()=>l,h:()=>s});var a=r(8173),i=r.n(a);function s(e,t,r){return Math.floor(r()*(t-e))+e}function l(e,t){let r=i()(t),a=[...e];for(let e=a.length-1;e>0;e--){let t=Math.floor(r()*(e+1));[a[e],a[t]]=[a[t],a[e]]}return a}},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155);let i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"px-3 py-2 mx-3 text-sm font-mono font-semibold text-gray-900 bg-white border border-gray-200 rounded-lg shadow-[0px_4px_0px_0px_#aaaaaa]",children:t})}}},e=>{e.O(0,[256,366,441,255,358],()=>e(e.s=1459)),_N_E=e.O()}]);