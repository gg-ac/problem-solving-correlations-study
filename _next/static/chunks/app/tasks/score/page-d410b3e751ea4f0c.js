(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{2557:(e,t,n)=>{Promise.resolve().then(n.bind(n,7089))},3830:(e,t,n)=>{"use strict";n.d(t,{IG:()=>l,j2:()=>c});var a=n(2078),o=n(1328),s=n(9996);let r=!!("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),i=(0,a.Wp)({apiKey:"AIzaSyCW7KC75ArSlEBNNomt13rHLF_9DvwT_Xs",authDomain:"cogntive-correlations-project.firebaseapp.com",projectId:"cogntive-correlations-project",storageBucket:"cogntive-correlations-project.firebasestorage.app",messagingSenderId:"899412483472",appId:"1:899412483472:web:8a630d8e2d75a648c92715"}),l=(0,s.c7)(i),c=(0,o.xI)(i);(0,o.oM)(c,o.gz),r&&((0,s.nb)(l,"127.0.0.1",9199),(0,o.Wq)(c,"http://127.0.0.1:9099"))},6852:(e,t,n)=>{"use strict";n.d(t,{S:()=>l,T:()=>i});var a=n(5155),o=n(63),s=n(2115);let r=(0,s.createContext)(void 0),i=e=>{let{children:t,pages:n,startPageIndex:i}=e,[l,c]=(0,s.useState)(i),[u,d]=(0,s.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),m=(0,o.useRouter)(),p=(0,o.usePathname)(),g=(0,o.useSearchParams)(),[h,f]=(0,s.useState)([]),[S,x]=(0,s.useState)(0),[b,v]=(0,s.useState)(""),[N,j]=(0,s.useState)(""),[_,y]=(0,s.useState)(!1),[O,w]=(0,s.useState)(""),[P,D]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=new Date;v("".concat(e.getFullYear()).concat(String(e.getMonth()+1).padStart(2,"0")).concat(String(e.getDate()).padStart(2,"0"),"_").concat(String(e.getHours()).padStart(2,"0")).concat(String(e.getMinutes()).padStart(2,"0")).concat(String(e.getSeconds()).padStart(2,"0"))),j("p_".concat(b));let t=g.get("rid");if(null!=t&&t){j(t),y(!0);let e=g.get("rc");null!=e&&e&&w(""!==e?"https://app.prolific.com/submissions/complete?cc=".concat(e):null);let n=g.get("rcd");null!=n&&n&&D(""!==n?"https://app.prolific.com/submissions/complete?cc=".concat(n):null)}},[]),(0,s.useEffect)(()=>{let e=g.get("exception");if(null!=e){if(e){let e=localStorage.getItem("taskData");f(e?JSON.parse(e):[]);let t=p.split("/");c(n.indexOf(t[t.length-1])),m.push("/tasks/".concat(n[l]));return}}else m.push("/tasks/".concat(n[l]))},[l]),(0,a.jsx)(r.Provider,{value:{participantID:N,saveDataToCloud:_,completedSessionRedirectURL:O,rejectedParticipantRedirectURL:P,pages:n,currentPageIndex:l,taskData:h,scoreData:u,strikes:S,setCurrentPageIndex:c,addTaskData:e=>{let t=[...h,e];f(t),localStorage.setItem("taskData",JSON.stringify(t))},setScoreData:d,incrementStrikes:()=>{x(e=>e+1)}},children:t})},l=()=>{let e=(0,s.useContext)(r);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7089:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var a=n(5155);function o(e,t){let n=new Blob([e],{type:"application/json"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)}var s=n(9996),r=n(3830),i=n(6852),l=n(2115);let c={goNogo:"Go/No-Go",visualSearch:"Visual Search",matrixReasoning:"Matrix Reasoning",memorySpan:"Memory Span",stringTransformation:"String Transformation"},u={goNogo:"Attention + Inhibitory Control",visualSearch:"Visual perception",matrixReasoning:"Executive function",memorySpan:"Working memory",stringTransformation:"Executive function"};var d=function(e){return e[e.UPLOAD_IN_PROGRESS=0]="UPLOAD_IN_PROGRESS",e[e.UPLOAD_FAILED=1]="UPLOAD_FAILED",e[e.UPLOAD_COMPLETE=2]="UPLOAD_COMPLETE",e[e.UPLOAD_AWAITING_START=3]="UPLOAD_AWAITING_START",e}(d||{});function m(){let{scoreData:e,saveDataToCloud:t,completedSessionRedirectURL:n,currentPageIndex:d,setCurrentPageIndex:m,pages:p,taskData:g,participantID:h}=(0,i.S)(),[f,S]=(0,l.useState)(3);var x=!1;return(0,l.useEffect)(()=>{d+1>=p.length&&!x&&(t?3==f&&(S(0),function(e,t,n,a){let o=(0,s.KR)(r.IG,"participant_data/"+t+".json"),i=new Blob([JSON.stringify(e)],{type:"application/json"});(0,s.bp)(o,i).on("state_changed",null,e=>{a()},()=>{n()})}(JSON.stringify(g),"p_"+h,()=>{S(2)},()=>{S(1)})):o(JSON.stringify(g),"".concat(h,"_trial_data.json")),x=!0)},[]),(0,l.useEffect)(()=>{2==f&&null!=n&&null==window.open(n,"_blank")&&alert("You have completed the session, but your browser prevented the confirmation URL from loading. To confirm that you have completed the session, please visit ".concat(n,"."))},[f]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-items-center justify-center min-h-screen",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Your Percentile Scores..."}),(0,a.jsx)("h2",{className:"text-lg mb-4",children:"(You scored better than N% of participants on similar tasks)"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-12",children:Object.entries(e).map(e=>{let[t,n]=e,o=null!==n?"".concat(n.toFixed(0),"%"):"-";return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center aspect-square border border-gray-300 rounded-lg p-4 shadow-lg bg-slate-800",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:c[t]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-center mt-2",children:o}),(0,a.jsx)("p",{className:"text-sm font-semibold",children:u[t]})]},t)})}),d+1>=p.length?(0,a.jsxs)("h2",{className:" mt-10 text-lg font-semibold",children:["Congratulations on completing the study! ",null!=n?(0,a.jsx)("a",{className:"underline",href:n,children:"Click here to confirm completion in Prolific"}):(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold mt-10 py-2 px-4 rounded-full",onClick:()=>{d+1<p.length&&m(d+1)},children:"Next Task"}),d+1>=p.length?(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold mt-10 py-2 px-4 rounded-full",onClick:()=>{o(JSON.stringify(g),"".concat(h,"_trial_data.json"))},children:"Download Data"}):(0,a.jsx)(a.Fragment,{})]})}}},e=>{e.O(0,[497,997,441,255,358],()=>e(e.s=2557)),_N_E=e.O()}]);