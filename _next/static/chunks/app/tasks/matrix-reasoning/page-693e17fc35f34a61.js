(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{51:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,s=r(5155),n=r(2115);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let l=function(e){return n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=n.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},n.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),n.createElement("path",{d:"M13.232 11.9a1.33 1.33 0 0 0-.941.391 1.33 1.33 0 0 0 0 1.883l4.059 4.058-4.06 4.059a1.33 1.33 0 0 0 0 1.883 1.33 1.33 0 0 0 1.884 0l4.058-4.059 4.059 4.059a1.33 1.33 0 0 0 1.883 0 1.33 1.33 0 0 0 0-1.883l-4.059-4.059 4.059-4.058a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39 1.33 1.33 0 0 0-.941.39l-4.059 4.058-4.058-4.058a1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,s.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,s.jsx)(l,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},1234:()=>{},4921:(e,t,r)=>{Promise.resolve().then(r.bind(r,6160))},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,s,n=r(5155),i=r(2115);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let c=function(e){return i.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:100,height:100},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M45 20h10v60H45z",className:"icon_plus_svg__plus"})),s||(s=i.createElement("path",{fill:"currentColor",d:"M20 45h60v10H20z",className:"icon_plus_svg__plus"})))},o=()=>(0,n.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-600",children:(0,n.jsx)(c,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})})},6160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(5155),s=r(6852),n=r(2115),i=r(7828);let l=(0,n.createContext)(void 0),c={startTime:0,currentTime:0,trialStarted:!1,trialEnded:!1,feedbackStarted:!1,feedbackEnded:!1,responseCorrect:null,selectedAnswerID:null},o={trialState:c,maxTrialIndex:0,currentTrialIndex:0,trialMaxDuration:0,trialFeedbackDuration:0,trialEventHistory:[],blockStarted:!1,blockCompleted:!1,fixationActive:!0,currentInstructionsPageIndex:0},d=(e,t)=>{let r=e,a=e.trialEventHistory;switch(t.type){case"START_TRIAL":r={...e,currentTrialIndex:t.trialIndex,trialState:{...c,startTime:t.timestamp,currentTime:t.timestamp,trialStarted:!0}};break;case"END_TRIAL":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,trialStarted:!1,trialEnded:!0}};break;case"START_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!0}};break;case"END_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!1,feedbackEnded:!0}};break;case"SET_TRIAL_TIME":case"UPDATE_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SELECT_ANSWER":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,selectedAnswerID:t.answerID}};break;case"START_TASK_BLOCK":r={...e,blockStarted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"COMPLETE_TASK_BLOCK":r={...e,blockCompleted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"CLEAR_FIXATION":r={...e,fixationActive:!1,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SET_INSTRUCTIONS_PAGE_INDEX":r={...e,currentInstructionsPageIndex:t.index}}let s=0==r.trialState.selectedAnswerID;if("UPDATE_TIME"!=t.type){let n={trialNumber:r.currentTrialIndex,timestamp:r.trialState.currentTime,action:t.type,selectedAnswerID:r.trialState.selectedAnswerID,responseCorrect:s};a=[...e.trialEventHistory,n]}return{...r,trialEventHistory:a,trialState:{...r.trialState,responseCorrect:s}}},m=e=>{let{children:t,startTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:x}=e,[u,p]=(0,n.useReducer)(d,{...o,currentTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:x}),{pages:f,currentPageIndex:h,scoreData:g,setCurrentPageIndex:v,setScoreData:S}=(0,s.S)();function j(){var e=new Set,t=new Set;for(var r of u.trialEventHistory)"END_TRIAL"==r.action&&(t.add(r.trialNumber),r.responseCorrect&&e.add(r.trialNumber));return 100*e.size/t.size}let b=e=>{p({type:"START_TRIAL",timestamp:performance.now(),trialIndex:e})},T=()=>{p({type:"END_TRIAL",timestamp:performance.now()})},w=()=>{p({type:"START_FEEDBACK",timestamp:performance.now()})},E=()=>{if(!(u.currentTrialIndex<u.maxTrialIndex))return p({type:"COMPLETE_TASK_BLOCK",timestamp:performance.now()}),h+1<f.length&&v(h+1),console.log("performance score: ".concat(j())),S({...g,matrixReasoning:(0,i.G)(69.15,16.69,j())}),null;{let e=u.currentTrialIndex+1;return b(e),e}};(0,n.useEffect)(()=>{u.blockStarted&&!u.fixationActive&&b(r)},[u.blockStarted,u.fixationActive]),(0,n.useEffect)(()=>{null!=u.trialState.selectedAnswerID&&(T(),w())},[u.trialState.selectedAnswerID]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{u.trialState.trialStarted&&!u.trialState.trialEnded&&(T(),w())},1e3*u.trialMaxDuration);return()=>clearTimeout(e)},[u.trialState.trialStarted]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{u.trialState.trialStarted&&!u.trialState.trialEnded&&p({type:"UPDATE_TIME",timestamp:performance.now()})},10);return()=>clearTimeout(e)},[u.trialState.trialStarted,u.trialState.currentTime]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{u.trialState.feedbackStarted&&!u.trialState.feedbackEnded&&(p({type:"END_FEEDBACK",timestamp:performance.now()}),E())},1e3*u.trialFeedbackDuration);return()=>clearTimeout(e)},[u.trialState.feedbackStarted]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{u.blockStarted&&u.fixationActive&&p({type:"CLEAR_FIXATION",timestamp:performance.now()})},1e3);return()=>clearTimeout(e)},[u.fixationActive,u.blockStarted]);let y=!1;return(0,n.useEffect)(()=>{let e=e=>{"Space"==e.code&&(y||3!=u.currentInstructionsPageIndex||p({type:"START_TASK_BLOCK",timestamp:performance.now()}),y=!0)},t=e=>{"Space"==e.code&&(y=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),(0,a.jsx)(l.Provider,{value:{state:u,exportTrialEventHistory:()=>u.trialEventHistory,handleSolutionPressed:e=>{null!=u.trialState.selectedAnswerID||u.trialState.trialEnded||p({type:"SELECT_ANSWER",timestamp:performance.now(),answerID:e})},nextTrial:E,startTrial:b,endTrial:T,setCurrentInstructionsPageIndex:e=>{p({type:"SET_INSTRUCTIONS_PAGE_INDEX",index:e})}},children:t})},x=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useTaskContextMatrixReasoning must be used within a TaskContext Provider");return e};var u=r(4963),p=r(8587),f=r(51),h=r(9141);function g(){let{state:e,setCurrentInstructionsPageIndex:t}=x();return(0,a.jsxs)("div",{className:"h-full w-full flex flex-col font-sans px-80",children:[(0,a.jsx)("div",{className:"flex items-end py-10",children:(0,a.jsx)("span",{className:"text-2xl",children:"Matrix Reasoning Task"})}),(0,a.jsx)("div",{className:"flex text-lg flex-col flex-grow px-5 py-5 rounded-lg border-2 border-dashed",children:(0,a.jsxs)("div",{className:"flex flex-col flex-grow items-center justify-center space-y-5",children:[0===e.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-5",children:"You will see a 3-by-3 grid of shapes like this example:"}),(0,a.jsx)("img",{className:"max-h-[256px] object-contain py-5",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0.jpeg",alt:"Matrix Example"})]}),1===e.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-2",children:"The shapes follow a pattern across each row, and down each column"}),(0,a.jsx)("div",{className:"text-center py-2",children:"The pattern can involve positions, colours, sizes, and combinations of shapes"})]}),2===e.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center py-2",children:"You will be shown four options, only one of which completes the grid pattern:"}),(0,a.jsxs)("div",{className:"flex flex-row justify-center space-x-2",children:[(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_1.jpeg",alt:"Option 1"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_2.jpeg",alt:"Option 2"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_3.jpeg",alt:"Option 3"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_4.jpeg",alt:"Option 4"})]})]}),3===e.currentInstructionsPageIndex&&(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"text-center",children:"Click the correct one to solve the puzzle."}),(0,a.jsx)("div",{className:"text-center",children:"The solution to the example is shown on the right."}),(0,a.jsx)("div",{className:"text-center",children:"Make sure you understand why this option is the solution before starting the task."}),(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsx)("img",{className:"max-h-[256px] object-contain py-5 mx-10",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0.jpeg",alt:"Matrix Example"}),(0,a.jsx)("img",{className:"max-h-[80px] object-contain",src:"/problem-solving-correlations-study/images/matrix-tasks/practice/0_1.jpeg",alt:"Option 1"})]})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-center space-x-10",children:[(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ".concat(0==e.currentInstructionsPageIndex?"opacity-50 cursor-not-allowed":""),onClick:()=>{e.currentInstructionsPageIndex>0&&t(e.currentInstructionsPageIndex-1)},children:"Previous"}),(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ".concat(3==e.currentInstructionsPageIndex?"opacity-50 cursor-not-allowed":""),onClick:()=>{e.currentInstructionsPageIndex<3&&t(e.currentInstructionsPageIndex+1)},children:"Next"})]})]})}),3==e.currentInstructionsPageIndex&&(0,a.jsx)("div",{className:"flex items-end justify-center py-5",children:(0,a.jsxs)("div",{className:"flex items-center text-xl",children:["Press ",(0,a.jsx)(h.A,{children:"Space"})," to start"]})})]})}var v=r(8173),S=r.n(v);function j(){let{state:e,handleSolutionPressed:t,exportTrialEventHistory:r}=x(),{taskData:i,setTaskData:l}=(0,s.S)();return(0,n.useEffect)(()=>{e.blockCompleted&&l([...i,{taskName:"matrix-reasoning",data:r()}])},[e.blockCompleted]),(0,a.jsxs)("div",{className:"h-full grid grid-rows-8",children:[(0,a.jsx)("div",{className:"row-span-1"}),(0,a.jsxs)("div",{className:"row-span-6 flex items-center justify-center",children:[e.blockStarted?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(g,{}),e.fixationActive&&e.blockStarted?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,a.jsx)(u.A,{})," "]}):(0,a.jsx)(a.Fragment,{}),e.trialState.trialStarted&&!e.trialState.trialEnded?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-3xl",children:Math.ceil((1e3*e.trialMaxDuration-(e.trialState.currentTime-e.trialState.startTime))/1e3)}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("img",{className:"py-5",src:"/problem-solving-correlations-study/images/matrix-tasks/test/".concat(e.currentTrialIndex,".jpeg")})}),(0,a.jsx)("div",{className:"flex",children:(function(e,t){var r=Math.floor(4*S()(t)())+0;let a=[,,,,].fill(0);for(let t=0;t<e;t++)a[(t+r)%e]=t;return a})(4,e.currentTrialIndex.toString()).map((r,s)=>(0,a.jsx)("img",{onClick:()=>{t(r)},className:"mx-5 "+(e.trialState.feedbackStarted&&0==r?" border-8 border-lime-500":""),src:"/problem-solving-correlations-study/images/matrix-tasks/test/".concat(e.currentTrialIndex,"_").concat(r+1,".jpeg")},s))})]}):(0,a.jsx)(a.Fragment,{}),e.trialState.feedbackStarted&&!e.trialState.feedbackEnded?(0,a.jsx)("div",{className:"flex items-center justify-center",children:e.trialState.responseCorrect?(0,a.jsx)(p.A,{}):(0,a.jsx)(f.A,{})}):(0,a.jsx)(a.Fragment,{})]})]})}function b(){return(0,a.jsx)("div",{className:"overflow-hidden h-screen",children:(0,a.jsx)(m,{startTrialIndex:0,maxTrialIndex:17,trialMaxDuration:30,trialFeedbackDuration:2,children:(0,a.jsx)(j,{})})})}},6852:(e,t,r)=>{"use strict";r.d(t,{S:()=>c,T:()=>l});var a=r(5155),s=r(63),n=r(2115);let i=(0,n.createContext)(void 0),l=e=>{let{children:t,participantID:r,pages:l,startPageIndex:c}=e,[o,d]=(0,n.useState)(c),[m,x]=(0,n.useState)([]),[u,p]=(0,n.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),f=(0,s.useRouter)();return(0,n.useEffect)(()=>{f.push("/tasks/".concat(l[o]))},[o]),(0,a.jsx)(i.Provider,{value:{participantID:r,pages:l,currentPageIndex:o,taskData:m,scoreData:u,setCurrentPageIndex:d,setTaskData:x,setScoreData:p},children:t})},c=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7828:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var a=r(4997);function s(e,t,r){return 100*a.ri((r-e)/t)}},8587:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,s=r(5155),n=r(2115);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let l=function(e){return n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=n.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},n.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),n.createElement("path",{d:"M25.732 11.9a1.33 1.33 0 0 0-.941.391l-9.059 9.059-4.058-4.059a1.33 1.33 0 0 0-1.883 0 1.33 1.33 0 0 0 0 1.883l5 5a1.33 1.33 0 0 0 1.883 0l10-10a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,s.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,s.jsx)(l,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);let s=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"px-3 py-2 mx-3 text-sm font-mono font-semibold text-gray-900 bg-white border border-gray-200 rounded-lg shadow-[0px_4px_0px_0px_#aaaaaa]",children:t})}}},e=>{e.O(0,[256,441,255,358],()=>e(e.s=4921)),_N_E=e.O()}]);