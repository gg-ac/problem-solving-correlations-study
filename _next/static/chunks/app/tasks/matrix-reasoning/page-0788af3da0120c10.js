(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{51:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,i=r(5155),l=r(2115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let s=function(e){return l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=l.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},l.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),l.createElement("path",{d:"M13.232 11.9a1.33 1.33 0 0 0-.941.391 1.33 1.33 0 0 0 0 1.883l4.059 4.058-4.06 4.059a1.33 1.33 0 0 0 0 1.883 1.33 1.33 0 0 0 1.884 0l4.058-4.059 4.059 4.059a1.33 1.33 0 0 0 1.883 0 1.33 1.33 0 0 0 0-1.883l-4.059-4.059 4.059-4.058a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39 1.33 1.33 0 0 0-.941.39l-4.059 4.058-4.058-4.058a1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,i.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,i.jsx)(s,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},1234:()=>{},4921:(e,t,r)=>{Promise.resolve().then(r.bind(r,6160))},4963:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a,i,l=r(5155),n=r(2115);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let c=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:100,height:100},e),a||(a=n.createElement("path",{fill:"currentColor",d:"M45 20h10v60H45z",className:"icon_plus_svg__plus"})),i||(i=n.createElement("path",{fill:"currentColor",d:"M20 45h60v10H20z",className:"icon_plus_svg__plus"})))},o=()=>(0,l.jsx)("div",{className:"h-full text-gray-400 dark:text-gray-600",children:(0,l.jsx)(c,{className:"h-full w-auto max-w-[128px] max-h-[128px] object-contain"})})},6160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var a=r(5155),i=r(6852),l=r(2115),n=r(7828);let s=(0,l.createContext)(void 0),c={startTime:0,currentTime:0,trialStarted:!1,trialEnded:!1,feedbackStarted:!1,feedbackEnded:!1,responseCorrect:null,selectedAnswerID:null},o={trialState:c,maxTrialIndex:0,currentTrialIndex:0,trialMaxDuration:0,trialFeedbackDuration:0,trialEventHistory:[],blockStarted:!1,blockCompleted:!1,fixationActive:!0},d=(e,t)=>{let r=e,a=e.trialEventHistory;switch(t.type){case"START_TRIAL":r={...e,currentTrialIndex:t.trialIndex,trialState:{...c,startTime:t.timestamp,currentTime:t.timestamp,trialStarted:!0}};break;case"END_TRIAL":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,trialStarted:!1,trialEnded:!0}};break;case"START_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!0}};break;case"END_FEEDBACK":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,feedbackStarted:!1,feedbackEnded:!0}};break;case"SET_TRIAL_TIME":case"UPDATE_TIME":r={...e,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"SELECT_ANSWER":r={...e,trialState:{...e.trialState,currentTime:t.timestamp,selectedAnswerID:t.answerID}};break;case"START_TASK_BLOCK":r={...e,blockStarted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"COMPLETE_TASK_BLOCK":r={...e,blockCompleted:!0,trialState:{...e.trialState,currentTime:t.timestamp}};break;case"CLEAR_FIXATION":r={...e,fixationActive:!1,trialState:{...e.trialState,currentTime:t.timestamp}}}let i=0==r.trialState.selectedAnswerID;if("UPDATE_TIME"!=t.type){let l={trialNumber:r.currentTrialIndex,timestamp:r.trialState.currentTime,action:t.type,selectedAnswerID:r.trialState.selectedAnswerID,responseCorrect:i};a=[...e.trialEventHistory,l]}return{...r,trialEventHistory:a,trialState:{...r.trialState,responseCorrect:i}}},m=e=>{let{children:t,startTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:u}=e,[x,f]=(0,l.useReducer)(d,{...o,currentTrialIndex:r,maxTrialIndex:c,trialMaxDuration:m,trialFeedbackDuration:u}),{pages:p,currentPageIndex:S,scoreData:h,setCurrentPageIndex:v,setScoreData:T}=(0,i.S)();function E(){var e=new Set,t=new Set;for(var r of x.trialEventHistory)"END_TRIAL"==r.action&&(t.add(r.trialNumber),r.responseCorrect&&e.add(r.trialNumber));return 100*e.size/t.size}let w=e=>{f({type:"START_TRIAL",timestamp:performance.now(),trialIndex:e})},g=()=>{f({type:"END_TRIAL",timestamp:performance.now()})},b=()=>{f({type:"START_FEEDBACK",timestamp:performance.now()})},j=()=>{if(!(x.currentTrialIndex<x.maxTrialIndex))return f({type:"COMPLETE_TASK_BLOCK",timestamp:performance.now()}),S+1<p.length&&v(S+1),console.log("performance score: ".concat(E())),T({...h,matrixReasoning:(0,n.G)(69.15,16.69,E())}),null;{let e=x.currentTrialIndex+1;return w(e),e}};(0,l.useEffect)(()=>{x.blockStarted&&!x.fixationActive&&w(r)},[x.blockStarted,x.fixationActive]),(0,l.useEffect)(()=>{null!=x.trialState.selectedAnswerID&&(g(),b())},[x.trialState.selectedAnswerID]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{x.trialState.trialStarted&&!x.trialState.trialEnded&&(g(),b())},1e3*x.trialMaxDuration);return()=>clearTimeout(e)},[x.trialState.trialStarted]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{x.trialState.trialStarted&&!x.trialState.trialEnded&&f({type:"UPDATE_TIME",timestamp:performance.now()})},10);return()=>clearTimeout(e)},[x.trialState.trialStarted,x.trialState.currentTime]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{x.trialState.feedbackStarted&&!x.trialState.feedbackEnded&&(f({type:"END_FEEDBACK",timestamp:performance.now()}),j())},1e3*x.trialFeedbackDuration);return()=>clearTimeout(e)},[x.trialState.feedbackStarted]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{x.blockStarted&&x.fixationActive&&f({type:"CLEAR_FIXATION",timestamp:performance.now()})},1e3);return()=>clearTimeout(e)},[x.fixationActive,x.blockStarted]);let k=!1;return(0,l.useEffect)(()=>{let e=e=>{"Space"==e.code&&(k||f({type:"START_TASK_BLOCK",timestamp:performance.now()}),k=!0)},t=e=>{"Space"==e.code&&(k=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),(0,a.jsx)(s.Provider,{value:{state:x,exportTrialEventHistory:()=>x.trialEventHistory,handleSolutionPressed:e=>{null!=x.trialState.selectedAnswerID||x.trialState.trialEnded||f({type:"SELECT_ANSWER",timestamp:performance.now(),answerID:e})},nextTrial:j,startTrial:w,endTrial:g},children:t})};var u=r(4963),x=r(8587),f=r(51),p=r(9141);function S(){return(0,a.jsxs)("div",{className:"h-full w-full grid font-sans grid-rows-5 gap-2 px-80 py-5",children:[(0,a.jsx)("div",{className:"flex items-end py-10",children:(0,a.jsx)("span",{className:"text-2xl",children:"Matrix Reasoning Task"})}),(0,a.jsx)("div",{className:" text-lg row-span-3 px-10 py-5 mx-10 rounded-lg border-2 border-dashed",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-5",children:[(0,a.jsx)("div",{children:"You will see a 9-by-9 grid of shapes"}),(0,a.jsx)("div",{children:"The shapes follow a pattern from left to right and top to bottom"}),(0,a.jsx)("div",{children:"There is a missing shape in the bottom right"}),(0,a.jsx)("div",{children:"You will be shown four options that complete the grid pattern"}),(0,a.jsx)("div",{children:"Click the correct one to solve the puzzle"})]})}),(0,a.jsx)("div",{className:"flex items-end justify-center",children:(0,a.jsxs)("div",{className:"flex items-center text-xl",children:["Press",(0,a.jsx)(p.A,{children:"Space"}),"to start"]})})]})}var h=r(8173),v=r.n(h);function T(){let{state:e,handleSolutionPressed:t,exportTrialEventHistory:r}=(()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useTaskContextMatrixReasoning must be used within a TaskContext Provider");return e})(),{taskData:n,setTaskData:c}=(0,i.S)();return(0,l.useEffect)(()=>{e.blockCompleted&&c([...n,{taskName:"matrix-reasoning",data:r()}])},[e.blockCompleted]),(0,a.jsxs)("div",{className:"h-full grid grid-rows-8",children:[(0,a.jsx)("div",{className:"row-span-1"}),(0,a.jsxs)("div",{className:"row-span-6 flex items-center justify-center",children:[e.blockStarted?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(S,{}),e.fixationActive&&e.blockStarted?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,a.jsx)(u.A,{})," "]}):(0,a.jsx)(a.Fragment,{}),e.trialState.trialStarted&&!e.trialState.trialEnded?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-3xl",children:Math.ceil((1e3*e.trialMaxDuration-(e.trialState.currentTime-e.trialState.startTime))/1e3)}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("img",{className:"py-5",src:"/problem-solving-correlations-study/images/matrix-tasks/test/".concat(e.currentTrialIndex,".jpeg")})}),(0,a.jsx)("div",{className:"flex",children:(function(e,t){var r=Math.floor(4*v()(t)())+0;let a=[,,,,].fill(0);for(let t=0;t<e;t++)a[(t+r)%e]=t;return a})(4,e.currentTrialIndex.toString()).map((r,i)=>(0,a.jsx)("img",{onClick:()=>{t(r)},className:"mx-5 "+(e.trialState.feedbackStarted&&0==r?" border-8 border-lime-500":""),src:"/images/matrix-tasks/test/".concat(e.currentTrialIndex,"_").concat(r+1,".jpeg")},i))})]}):(0,a.jsx)(a.Fragment,{}),e.trialState.feedbackStarted&&!e.trialState.feedbackEnded?(0,a.jsx)("div",{className:"flex items-center justify-center",children:e.trialState.responseCorrect?(0,a.jsx)(x.A,{}):(0,a.jsx)(f.A,{})}):(0,a.jsx)(a.Fragment,{})]})]})}function E(){return(0,a.jsx)("div",{className:"overflow-hidden h-screen",children:(0,a.jsx)(m,{startTrialIndex:0,maxTrialIndex:17,trialMaxDuration:30,trialFeedbackDuration:2,children:(0,a.jsx)(T,{})})})}},6852:(e,t,r)=>{"use strict";r.d(t,{PageProvider:()=>s,S:()=>c});var a=r(5155),i=r(63),l=r(2115);let n=(0,l.createContext)(void 0),s=e=>{let{children:t,participantID:r,pages:s,startPageIndex:c}=e,[o,d]=(0,l.useState)(c),[m,u]=(0,l.useState)([]),[x,f]=(0,l.useState)({goNogo:null,visualSearch:null,matrixReasoning:null,memorySpan:null,stringTransformation:null}),p=(0,i.useRouter)();return(0,l.useEffect)(()=>{p.push("/tasks/".concat(s[o]))},[o]),(0,a.jsx)(n.Provider,{value:{participantID:r,pages:s,currentPageIndex:o,taskData:m,scoreData:x,setCurrentPageIndex:d,setTaskData:u,setScoreData:f},children:t})},c=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("usePageContext must be used within a PageProvider");return e}},7828:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var a=r(4997);function i(e,t,r){return 100*a.ri((r-e)/t)}},8587:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a,i=r(5155),l=r(2115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let s=function(e){return l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:137.82,height:137.82,viewBox:"0 0 36.465 36.465"},e),a||(a=l.createElement("g",{fill:"currentColor",paintOrder:"markers stroke fill"},l.createElement("path",{d:"M18.232 0C8.145 0 0 8.145 0 18.232s8.145 18.233 18.232 18.233 18.233-8.145 18.233-18.233C36.465 8.145 28.32 0 18.232 0m0 1.465A16.714 16.714 0 0 1 35 18.232 16.714 16.714 0 0 1 18.232 35 16.714 16.714 0 0 1 1.465 18.232 16.714 16.714 0 0 1 18.232 1.465"}),l.createElement("path",{d:"M25.732 11.9a1.33 1.33 0 0 0-.941.391l-9.059 9.059-4.058-4.059a1.33 1.33 0 0 0-1.883 0 1.33 1.33 0 0 0 0 1.883l5 5a1.33 1.33 0 0 0 1.883 0l10-10a1.33 1.33 0 0 0 0-1.883 1.33 1.33 0 0 0-.942-.39Z"}))))},c=()=>(0,i.jsx)("div",{className:"flex items-center justify-center text-gray-400 dark:text-gray-300",children:(0,i.jsx)(s,{className:"w-full h-full max-w-[92px] max-h-[92px] object-contain"})})},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155);let i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"px-3 py-2 mx-3 text-sm font-mono font-semibold text-gray-900 bg-white border border-gray-200 rounded-lg shadow-[0px_4px_0px_0px_#aaaaaa]",children:t})}}},e=>{e.O(0,[256,441,255,358],()=>e(e.s=4921)),_N_E=e.O()}]);